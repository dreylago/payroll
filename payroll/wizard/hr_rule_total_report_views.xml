<?xml version="1.0" encoding="utf-8" ?>
<odoo>

    <record id="salary_rule_total_report_view" model="ir.ui.view">
        <field name="name">Reporte de Líneas de Nómina</field>
        <field name="model">hr.rule.total.report</field>
        <field name="arch" type="xml">
            <group col="4">
                <field name="date_from"/>
                <field name="date_to"/>
            </group>
            <footer style="margin-bottom:2em">
                <button name="get_html_report" string="Ver" type="object" default_focus="1" class="oe_highlight" data-hotkey="v"/>
                <button string="Cancelar" class="btn btn-secondary" type="object" name="erase_report" data-hotkey="z" />
            </footer>

            <div>
                        <field name="report_details"
                               nolabel="1"
                               readonly="1"
                               options='{"reload_on_button": True,"fixed_size": True}'/>
            </div>
        </field>
    </record>

     <record id="action_salary_rule_total_report" model="ir.actions.act_window">
        <field name="name">Reporte de Líneas de Nómina</field>
        <field name="res_model">hr.rule.total.report</field> 
        <field name="type">ir.actions.act_window</field> 
        <field name="view_mode">form</field>
        <field name="view_id" ref="salary_rule_total_report_view"/>
        <field name="target">inline</field>
     </record>

    <menuitem
        action="action_salary_rule_total_report"
        id="menu_salary_rule_total_report"
        name="Líneas de Nómina"
        parent="payroll_menu_total_reports"
        sequence="80"
        groups="payroll.group_payroll_manager"
    />

</odoo>
